# Архитектура проекта

Проект разделен на независимые сервисы, которые работают на одном сервере, но не мешают друг другу.

## Структура проекта

```
unified-bot/
├── server.ts              # Главный сервер (старая версия, будет заменена)
├── server-new.ts          # Новый модульный сервер
├── services/              # Независимые сервисы
│   ├── flip/              # Флипбот (торговый арбитражный бот)
│   │   ├── ui/           # Пользовательский интерфейс
│   │   ├── src/          # Исходный код
│   │   ├── index.ts      # Точка входа сервиса
│   │   ├── routes.ts     # API маршруты
│   │   └── handlers.ts   # Обработчики запросов
│   └── ferm/             # Ферма (новый сервис)
│       ├── ui/           # Пользовательский интерфейс
│       ├── src/          # Исходный код
│       ├── index.ts      # Точка входа сервиса
│       ├── routes.ts     # API маршруты
│       └── handlers.ts   # Обработчики запросов
├── shared/                # Общие утилиты (если нужны)
└── ui/                    # Общие UI файлы (приветственная страница и т.д.)
```

## Сервисы

### Flip Bot (`/flip/`)
- **Веб-интерфейс:** `http://localhost:3002/flip/`
- **API:** `http://localhost:3002/api/flip/*`
- **Описание:** Торговый арбитражный бот для работы с фьючерсами MEXC

### Ferm Service (`/ferm/`)
- **Веб-интерфейс:** `http://localhost:3002/ferm/`
- **API:** `http://localhost:3002/api/ferm/*`
- **Описание:** Сервис "Ферма" (будет реализован позже)

## Принципы разделения

1. **Независимость:** Каждый сервис имеет свой UI, свои API endpoints, свой код
2. **Изоляция:** Сервисы не должны конфликтовать друг с другом
3. **Модульность:** Легко добавлять новые сервисы
4. **Общие ресурсы:** Общие утилиты выносятся в `shared/`

## Миграция

Текущий `server.ts` содержит весь код флипбота. План миграции:
1. ✅ Создана модульная структура
2. ⏳ Постепенный перенос кода флипбота в `services/flip/`
3. ⏳ Обновление главного сервера для использования модулей
4. ⏳ Тестирование и проверка работоспособности


