# Структура сервисов

Проект разделен на независимые сервисы для лучшей организации и масштабируемости.

## Текущая структура

```
unified-bot/
├── services/
│   ├── flip/              # Флипбот (торговый арбитражный бот)
│   │   ├── ui/           # UI файлы флипбота
│   │   ├── src/          # Исходный код флипбота
│   │   ├── index.ts      # Регистрация маршрутов
│   │   ├── routes.ts     # API маршруты
│   │   └── handlers.ts   # Обработчики запросов
│   └── ferm/             # Ферма (новый сервис)
│       ├── ui/           # UI файлы фермы
│       ├── src/          # Исходный код фермы
│       ├── index.ts      # Регистрация маршрутов
│       ├── routes.ts     # API маршруты
│       └── handlers.ts   # Обработчики запросов
└── server.ts             # Текущий сервер (содержит весь код флипбота)
└── server-new.ts         # Новый модульный сервер (готов к использованию)
```

## Доступ к сервисам

### Флипбот
- **Веб-интерфейс:** `http://localhost:3002/flip/`
- **API:** `http://localhost:3002/api/flip/*` (пока использует старые пути `/api/*`)

### Ферма
- **Веб-интерфейс:** `http://localhost:3002/ferm/`
- **API:** `http://localhost:3002/api/ferm/*`

## Текущее состояние

✅ **Создана структура:**
- Папки для обоих сервисов
- Базовые файлы для регистрации маршрутов
- UI файлы флипбота скопированы в `services/flip/ui/`
- Исходный код флипбота скопирован в `services/flip/src/`

⏳ **Требуется миграция:**
- Перенос всей логики флипбота из `server.ts` в `services/flip/`
- Обновление импортов и зависимостей
- Тестирование работоспособности

## Следующие шаги

1. Постепенно переносить код из `server.ts` в `services/flip/`
2. Обновить `server-new.ts` для использования модулей
3. Протестировать оба сервиса
4. После успешного тестирования заменить `server.ts` на `server-new.ts`

## Принципы

- **Независимость:** Каждый сервис изолирован
- **Модульность:** Легко добавлять новые сервисы
- **Совместимость:** Старые пути продолжают работать во время миграции


